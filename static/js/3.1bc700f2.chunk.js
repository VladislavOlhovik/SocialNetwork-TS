(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[3],{292:function(e,a,t){"use strict";t.d(a,"a",(function(){return h}));var n=t(30),c=t(31),s=t(33),r=t(32),u=t(0),l=t.n(u),i=t(12),m=t(11),o=function(e){return{isAuth:e.auth.isAuth}},b=function(e){return{}},h=function(e){var a=function(a){Object(s.a)(u,a);var t=Object(r.a)(u);function u(){return Object(n.a)(this,u),t.apply(this,arguments)}return Object(c.a)(u,[{key:"render",value:function(){return this.props.isAuth?l.a.createElement(e,this.props):l.a.createElement(m.a,{to:"/login"})}}]),u}(l.a.Component);return Object(i.b)(o,b)(a)}},293:function(e,a,t){e.exports={wrapper:"Chat_wrapper__5ifol",name:"Chat_name__n6CnP",message:"Chat_message__3ul4T",speechbubble:"Chat_speechbubble__10ZoT",time:"Chat_time__1zkkV",header:"Chat_header__2ReOX",inputss:"Chat_inputss__3wuu0",messages:"Chat_messages__2lvwl",myMessage:"Chat_myMessage__2Cjqq",mySpeechbubble:"Chat_mySpeechbubble__2wUCV"}},294:function(e,a,t){"use strict";t.r(a);var n=t(43),c=t(39),s=t(0),r=t.n(s),u=t(293),l=t.n(u),i=t(67),m=t.n(i),o=t(12),b=t(292);a.default=Object(b.a)((function(){var e=Object(s.useRef)(null),a=Object(s.useState)(""),t=Object(c.a)(a,2),u=t[0],i=t[1],b=Object(s.useState)([]),h=Object(c.a)(b,2),p=h[0],_=h[1],f=Object(s.useState)(null),d=Object(c.a)(f,2),j=d[0],v=d[1],O=Object(o.c)((function(e){return e.auth.id}));Object(s.useEffect)((function(){var e=new WebSocket("wss://social-network.samuraijs.com/handlers/chatHandler.ashx");return v(e),function(){e.close()}}),[]),j&&(j.onmessage=function(a){_([].concat(Object(n.a)(p),Object(n.a)(JSON.parse(a.data)))),e.current&&e.current.scrollTo(0,e.current.scrollHeight)});return r.a.createElement("div",null,r.a.createElement("h3",{className:l.a.header},"Chat"),r.a.createElement("div",{className:l.a.messages,ref:e},p.map((function(e,a){return r.a.createElement("div",{key:a,className:"".concat(l.a.wrapper," ").concat(O===+e.userId?l.a.myMessage:"")},r.a.createElement("img",{src:e.photo?e.photo:m.a,alt:"avatar"}),r.a.createElement("div",{className:"".concat(O===+e.userId?l.a.mySpeechbubble:l.a.speechbubble)},r.a.createElement("div",{className:l.a.name},r.a.createElement("div",null,e.userName)),r.a.createElement("div",{className:l.a.message},e.message)))}))),r.a.createElement("div",{className:l.a.inputss},r.a.createElement("input",{value:u,onChange:function(e){i(e.currentTarget.value)}}),r.a.createElement("button",{disabled:null===j,onClick:function(){""!==u.trim()&&(j.send(u),i(""))}},"SEND")))}))}}]);
//# sourceMappingURL=3.1bc700f2.chunk.js.map
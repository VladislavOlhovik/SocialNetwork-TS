{"version":3,"sources":["components/Dialogs/Dialogs.module.css","hoc/WithAuthRedirect.tsx","components/Dialogs/DialogItem/DialogItem.tsx","components/Dialogs/Message/Message.tsx","components/Dialogs/Dialogs.tsx","components/Dialogs/DialogsContainer.tsx"],"names":["module","exports","mapStateToProps","state","isAuth","auth","mapDispatchToProps","dispatch","WithAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","DialogItem","className","s","dialog","id","name","Message","message","maxLength","maxLengthCreator","DialogsReduxForm","reduxForm","form","onSubmit","handleSubmit","Field","component","Textarea","placeholder","validate","require","Dialogs","dialogs","dialogsItems","dialogsPage","dialogsData","map","el","key","messages","messagesData","values","addMessage","newMessage","DialogsContainer","compose","addMessageActionCreator"],"mappings":"2FACAA,EAAOC,QAAU,CAAC,QAAU,yBAAyB,aAAe,8BAA8B,OAAS,wBAAwB,SAAW,4B,uICKxIC,EAAkB,SAACC,GACrB,MAAM,CACFC,OAAQD,EAAME,KAAKD,SAGrBE,EAAqB,SAACC,GACxB,MAAM,IAKGC,EAAmB,SAAmBC,GAAsC,IAC/EC,EAD8E,uKAG5E,OAAIC,KAAKC,MAAMR,OACR,kBAACK,EAAcE,KAAKC,OADG,kBAAC,IAAD,CAAUC,GAAI,eAHgC,GACpDC,IAAML,WAMtC,OAAOM,YAAQb,EAAgBI,EAAxBS,CAA4CL,K,sFCXxCM,EARI,SAACJ,GAChB,OACI,yBAAKK,UAAWC,IAAEC,QACd,kBAAC,IAAD,CAASN,GAAI,YAAcD,EAAMQ,IAAKR,EAAMS,QCEzCC,EANC,SAACV,GACb,OACI,yBAAKK,UAAWC,IAAEK,SAAUX,EAAMW,U,iCC8BpCC,EAAYC,YAAiB,IAkB5BC,EAAmBC,YAA+B,CAAEC,KAAM,oBAAvCD,EAhB4C,SAACf,GACnE,OACI,0BAAMiB,SAAUjB,EAAMkB,cAClB,6BACI,kBAACC,EAAA,EAAD,CAAOC,UAAWC,IACXC,YAAY,qBACZC,SAAU,CAACC,IAASZ,GACpBH,KAAK,gBAEhB,6BACI,6CAQDgB,EA1CC,SAACzB,GAKb,OACI,yBAAKK,UAAWC,IAAEoB,SACd,yBAAKrB,UAAWC,IAAEqB,cACb3B,EAAM4B,YAAYC,YAAYC,KAAI,SAAAC,GAAE,OAAE,kBAAC,EAAD,CAAYC,IAAKD,EAAGvB,GAAIC,KAAMsB,EAAGtB,KAAMD,GAAIuB,EAAGvB,SAEzF,yBAAKH,UAAWC,IAAE2B,UACbjC,EAAM4B,YAAYM,aAAaJ,KAAI,SAAAC,GAAE,OAAE,kBAAC,EAAD,CAASC,IAAKD,EAAGvB,GAAIG,QAASoB,EAAGpB,aACzE,kBAACG,EAAD,CAAkBG,SAXb,SAACkB,GACdnC,EAAMoC,WAAWD,EAAOE,kB,iCCI1BC,EAAmBC,YACrBpC,aAZoB,SAACZ,GACrB,MAAM,CACFqC,YAAarC,EAAMqC,gBAGA,SAACjC,GACxB,MAAM,CACFyC,WAAY,SAACC,GAAD,OAAsB1C,EAAS6C,YAAwBH,SAMvEzC,IAFqB2C,CAGvBd,GAEaa","file":"static/js/4.1f14fd27.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__T1sQ8\",\"dialogsItems\":\"Dialogs_dialogsItems__1cdap\",\"active\":\"Dialogs_active__2zRni\",\"messages\":\"Dialogs_messages__2znBk\"};","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Redirect } from 'react-router-dom'\r\nimport { DialogsActionType } from '../Redux/dialogs-reducer'\r\nimport { RootType } from '../Redux/redux-store'\r\n\r\nconst mapStateToProps = (state:RootType)=>{\r\n    return{\r\n        isAuth: state.auth.isAuth,\r\n    }\r\n}\r\nconst mapDispatchToProps = (dispatch:(action:DialogsActionType)=>void)=>{\r\n    return{}\r\n}\r\ntype WithAuthRedirectPropsType = {\r\n    isAuth:boolean\r\n}\r\nexport const WithAuthRedirect = <P extends object>(Component:React.ComponentType<P>) => {\r\n    class RedirectComponent extends React.Component<WithAuthRedirectPropsType> {\r\n        render(){\r\n            if(!this.props.isAuth) return <Redirect to={'/login'}/>\r\n            return <Component {...this.props as P}/>\r\n        }\r\n    }\r\n    return connect(mapStateToProps,mapDispatchToProps)(RedirectComponent) \r\n}","import React from 'react';\r\nimport s from './../Dialogs.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { DialogsDataType } from '../../../Redux/dialogs-reducer';\r\n\r\nconst DialogItem = (props:DialogsDataType) => {\r\n    return (\r\n        <div className={s.dialog}>\r\n            <NavLink to={'/dialogs/' + props.id}>{props.name}</NavLink>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DialogItem","import React from 'react';\r\nimport s from './../Dialogs.module.css';\r\nimport { MessagesDataType } from '../../../Redux/dialogs-reducer';\r\n\r\nconst Message = (props:MessagesDataType) => {\r\n    return (\r\n        <div className={s.message}>{props.message}</div>\r\n    )\r\n}\r\n\r\nexport default Message","import React from 'react';\r\nimport s from './Dialogs.module.css';\r\nimport DialogItem from './DialogItem/DialogItem';\r\nimport Message from './Message/Message';\r\nimport { DialogsPageType } from '../../Redux/dialogs-reducer';\r\nimport { Field, InjectedFormProps, reduxForm } from 'redux-form'\r\nimport { Textarea } from '../common/FormsControls/FormsControls';\r\nimport { maxLengthCreator, require } from '../../utils/validadors';\r\n\r\n\r\ntype dialogsPropsType={\r\n    dialogsPage:DialogsPageType\r\n    addMessage:(newMessage: string)=>void\r\n}\r\nconst Dialogs = (props:dialogsPropsType) => {\r\n    const addMessage=(values:DialogsFormDataType)=>{\r\n        props.addMessage(values.newMessage)\r\n    }\r\n    \r\n    return (\r\n        <div className={s.dialogs}>\r\n            <div className={s.dialogsItems}>\r\n                {props.dialogsPage.dialogsData.map(el=><DialogItem key={el.id} name={el.name} id={el.id}/>)}\r\n            </div>\r\n            <div className={s.messages}>\r\n                {props.dialogsPage.messagesData.map(el=><Message key={el.id} message={el.message}/>)}\r\n                <DialogsReduxForm onSubmit={addMessage}/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\ntype DialogsFormDataType = {\r\n    newMessage: string\r\n}\r\n\r\nconst maxLength = maxLengthCreator(10)\r\n\r\nconst DialogsForm: React.FC<InjectedFormProps<DialogsFormDataType>> = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field component={Textarea}\r\n                       placeholder='Enter your message'\r\n                       validate={[require, maxLength]}\r\n                       name='newMessage'/>\r\n            </div> \r\n            <div>\r\n                <button>sent</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst  DialogsReduxForm = reduxForm<DialogsFormDataType>({ form: 'dialogAddMassage' })(DialogsForm)\r\n\r\nexport default Dialogs","import Dialogs from './Dialogs'\r\nimport { addMessageActionCreator } from '../../Redux/dialogs-reducer';\r\nimport { connect } from 'react-redux';\r\nimport { DialogsActionType } from '../../Redux/dialogs-reducer';\r\nimport { RootType } from '../../Redux/redux-store';\r\nimport { WithAuthRedirect } from '../../hoc/WithAuthRedirect';\r\nimport { compose } from 'redux';\r\nimport { ComponentType } from 'react';\r\n\r\nconst mapStateToProps = (state:RootType)=>{\r\n    return{\r\n        dialogsPage: state.dialogsPage,\r\n    }\r\n}\r\nconst mapDispatchToProps = (dispatch:(action:DialogsActionType)=>void)=>{\r\n    return{\r\n        addMessage: (newMessage: string)=>dispatch(addMessageActionCreator(newMessage)),\r\n    }\r\n}\r\n\r\nconst DialogsContainer = compose<ComponentType>(\r\n    connect(mapStateToProps,mapDispatchToProps),\r\n    WithAuthRedirect\r\n)(Dialogs) \r\n\r\nexport default DialogsContainer"],"sourceRoot":""}